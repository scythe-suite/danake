#!/bin/bash

docker run --rm -p 80:80 -p 443:443 \
  --name reverse-proxy \
  --network backend \
  -v $(pwd)/confs/nginx.conf:/etc/nginx/nginx.conf:ro \
  -v $(pwd)/confs/ssl.conf:/confs/ssl.conf:ro \
  -v $(pwd)/confs/certs/fullchain.pem:/confs/certs/fullchain.pem:ro \
  -v $(pwd)/confs/certs/privkey.pem:/confs/certs/privkey.pem:ro \
  -v $(pwd)/confs/certs/dhparam.pem:/confs/certs/dhparam.pem:ro \
  -v $(pwd)/confs/cookie_map.tsv:/confs/cookie_map.tsv:ro \
  -v $(pwd)/confs/errors:/errors/:ro \
  -v $(pwd)/logs:/logs \
  nginx
